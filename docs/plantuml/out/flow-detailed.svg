<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2152px" preserveAspectRatio="none" style="width:1612px;height:2152px;background:#FFFFFF;" version="1.1" viewBox="0 0 1612 2152" width="1612px" zoomAndPan="magnify"><defs><filter height="300%" id="f1gp9gv5ylob5o" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="183.5" x2="183.5" y1="40.4883" y2="2109.1895"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="297.5" x2="297.5" y1="40.4883" y2="2109.1895"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="530.5" x2="530.5" y1="40.4883" y2="2109.1895"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="770.5" x2="770.5" y1="40.4883" y2="2109.1895"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1026.5" x2="1026.5" y1="40.4883" y2="2109.1895"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1286" x2="1286" y1="40.4883" y2="2109.1895"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1560.5" x2="1560.5" y1="40.4883" y2="2109.1895"/><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="89" x="137.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="144.5" y="25.5352">Third Party</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="89" x="137.5" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="144.5" y="2128.7246">Third Party</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="111" x="240.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="247.5" y="25.5352">Company A UI</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="111" x="240.5" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="247.5" y="2128.7246">Company A UI</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="93" x="482.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="489.5" y="25.5352">Company A</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="93" x="482.5" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="489.5" y="2128.7246">Company A</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="109" x="714.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="721.5" y="25.5352">Company B UI</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="109" x="714.5" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="721.5" y="2128.7246">Company B UI</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="91" x="979.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="986.5" y="25.5352">Company B</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="91" x="979.5" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="986.5" y="2128.7246">Company B</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1246" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1253" y="25.5352">Operator</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1246" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1253" y="2128.7246">Operator</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1521.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1528.5" y="25.5352">EventBus</text><rect fill="#FEFECE" filter="url(#f1gp9gv5ylob5o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1521.5" y="2108.1895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1528.5" y="2128.7246">EventBus</text><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1605.5" x="0" y="71.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="71.1436" y2="71.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="74.1436" y2="74.1436"/><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="320" x="642.75" y="60.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="302" x="648.75" y="77.0566">Getting Product information from third party</text><polygon fill="#A80036" points="172,111.1094,182,115.1094,172,119.1094,176,115.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="178" y1="115.1094" y2="115.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="7" y="110.3672">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="39" y="110.3672">add product data</text><polygon fill="#A80036" points="519,145.4199,529,149.4199,519,153.4199,523,149.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="184" x2="525" y1="149.4199" y2="149.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="191" y="144.6777">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="223" y="144.6777">send product data</text><path d="M536,128.1094 L536,153.1094 L683,153.1094 L683,138.1094 L673,128.1094 L536,128.1094 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M673,128.1094 L673,138.1094 L683,138.1094 L673,128.1094 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="542" y="145.6777">POST /my-products</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="183.7305" y2="183.7305"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="183.7305" y2="196.7305"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="196.7305" y2="196.7305"/><polygon fill="#A80036" points="542,192.7305,532,196.7305,542,200.7305,538,196.7305" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="178.9883">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="570" y="178.9883">store my product data</text><polygon fill="#A80036" points="172,222.041,182,226.041,172,230.041,176,226.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="178" y1="226.041" y2="226.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="7" y="221.2988">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="39" y="221.2988">add documents data</text><polygon fill="#A80036" points="519,256.3516,529,260.3516,519,264.3516,523,260.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="184" x2="525" y1="260.3516" y2="260.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="191" y="255.6094">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="223" y="255.6094">send documents data</text><path d="M536,239.041 L536,264.041 L697,264.041 L697,249.041 L687,239.041 L536,239.041 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M687,239.041 L687,249.041 L697,249.041 L687,239.041 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="542" y="256.6094">POST /my-documents</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="294.6621" y2="294.6621"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="294.6621" y2="307.6621"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="307.6621" y2="307.6621"/><polygon fill="#A80036" points="542,303.6621,532,307.6621,542,311.6621,538,307.6621" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="289.9199">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="570" y="289.9199">store my product data</text><polygon fill="#A80036" points="519,337.9727,529,341.9727,519,345.9727,523,341.9727" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="525" y1="341.9727" y2="341.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="305" y="337.2305">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="337" y="337.2305">get my products</text><path d="M536,320.6621 L536,345.6621 L675,345.6621 L675,330.6621 L665,320.6621 L536,320.6621 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M665,320.6621 L665,330.6621 L675,330.6621 L665,320.6621 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="542" y="338.2305">GET /my-products</text><polygon fill="#A80036" points="519,377.2832,529,381.2832,519,385.2832,523,381.2832" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="525" y1="381.2832" y2="381.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="305" y="376.541">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="337" y="376.541">get my documents</text><path d="M536,359.9727 L536,384.9727 L689,384.9727 L689,369.9727 L679,359.9727 L536,359.9727 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M679,359.9727 L679,369.9727 L689,369.9727 L679,359.9727 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="542" y="377.541">GET /my-documents</text><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1605.5" x="0" y="439.9385"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="439.9385" y2="439.9385"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="442.9385" y2="442.9385"/><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="189" x="708.25" y="429.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171" x="714.25" y="445.8516">Announcing new Product</text><polygon fill="#A80036" points="519,484.9043,529,488.9043,519,492.9043,523,488.9043" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="525" y1="488.9043" y2="488.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="305" y="484.1621">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="337" y="484.1621">anounce new product</text><path d="M536,467.5938 L536,492.5938 L716,492.5938 L716,477.5938 L706,467.5938 L536,467.5938 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M706,467.5938 L706,477.5938 L716,477.5938 L706,467.5938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="542" y="485.1621">POST /my-new-products</text><polygon fill="#A80036" points="1274,534.5254,1284,538.5254,1274,542.5254,1278,538.5254" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="1280" y1="538.5254" y2="538.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="526.1279">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="570" y="518.4727">anounce new product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="570" y="533.7832">(id, uid, name, type, number, hash)</text><path d="M1291,509.5596 L1291,534.5596 L1444,534.5596 L1444,519.5596 L1434,509.5596 L1291,509.5596 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1434,509.5596 L1434,519.5596 L1444,519.5596 L1434,509.5596 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="1297" y="527.1279">POST /new-products</text><polygon fill="#A80036" points="1549,579.1465,1559,583.1465,1549,587.1465,1553,583.1465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1286" x2="1555" y1="583.1465" y2="583.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1293" y="570.749">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1325" y="563.0938">issue new product data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="1325" y="578.4043">(id, uid, name, type, number, hash)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="612.457" y2="612.457"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="612.457" y2="625.457"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="625.457" y2="625.457"/><polygon fill="#A80036" points="542,621.457,532,625.457,542,629.457,538,625.457" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="607.7148">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="570" y="607.7148">store my new product data</text><polygon fill="#A80036" points="519,655.7676,529,659.7676,519,663.7676,523,659.7676" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="525" y1="659.7676" y2="659.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="305" y="655.0254">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="337" y="655.0254">get my new products</text><path d="M536,638.457 L536,663.457 L708,663.457 L708,648.457 L698,638.457 L536,638.457 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M698,638.457 L698,648.457 L708,648.457 L698,638.457 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="542" y="656.0254">GET /my-new-products</text><polygon fill="#A80036" points="1038,705.3887,1028,709.3887,1038,713.3887,1034,709.3887" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1032" x2="1560" y1="709.3887" y2="709.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1044" y="696.9912">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1076" y="689.3359">notify new product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="1076" y="704.6465">(id, uid, name, type, number, hash)</text><path d="M874,680.4229 L874,705.4229 L1018,705.4229 L1018,690.4229 L1008,680.4229 L874,680.4229 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1008,680.4229 L1008,690.4229 L1018,690.4229 L1008,680.4229 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="880" y="697.9912">event "NewProduct"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="738.6992" y2="738.6992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="738.6992" y2="751.6992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="751.6992" y2="751.6992"/><polygon fill="#A80036" points="1038,747.6992,1028,751.6992,1038,755.6992,1034,751.6992" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="733.957">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="1066" y="733.957">store new product data</text><polygon fill="#A80036" points="1015,782.0098,1025,786.0098,1015,790.0098,1019,786.0098" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="771" x2="1021" y1="786.0098" y2="786.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="778" y="781.2676">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="810" y="781.2676">get new products</text><path d="M1032,764.6992 L1032,789.6992 L1177,789.6992 L1177,774.6992 L1167,764.6992 L1032,764.6992 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1167,764.6992 L1167,774.6992 L1177,774.6992 L1167,764.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1038" y="782.2676">GET /new-products</text><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1605.5" x="0" y="844.665"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="844.665" y2="844.665"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="847.665" y2="847.665"/><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="201" x="702.25" y="834.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="183" x="708.25" y="850.5781">Requesting Product Details</text><polygon fill="#A80036" points="1015,889.6309,1025,893.6309,1015,897.6309,1019,893.6309" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="771" x2="1021" y1="893.6309" y2="893.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="778" y="888.8887">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="810" y="888.8887">request product details</text><path d="M1032,872.3203 L1032,897.3203 L1277,897.3203 L1277,882.3203 L1267,872.3203 L1032,872.3203 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1267,872.3203 L1267,882.3203 L1277,882.3203 L1267,872.3203 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1038" y="889.8887">POST /my-product-details-request</text><polygon fill="#A80036" points="1274,939.252,1284,943.252,1274,947.252,1278,943.252" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1280" y1="943.252" y2="943.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="930.8545">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1066" y="923.1992">request product details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1066" y="938.5098">(uid, pubKeyB, algorithm)</text><path d="M1291,914.2861 L1291,939.2861 L1509,939.2861 L1509,924.2861 L1499,914.2861 L1291,914.2861 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1499,914.2861 L1499,924.2861 L1509,924.2861 L1499,914.2861 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1297" y="931.8545">POST /product-details-request</text><polygon fill="#A80036" points="1549,983.873,1559,987.873,1549,991.873,1553,987.873" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1286" x2="1555" y1="987.873" y2="987.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1293" y="975.4756">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1325" y="967.8203">issue product details request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1325" y="983.1309">(uid, pubKeyB, algorithm)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1032.4941" y2="1032.4941"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1032.4941" y2="1045.4941"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1045.4941" y2="1045.4941"/><polygon fill="#A80036" points="1038,1041.4941,1028,1045.4941,1038,1049.4941,1034,1045.4941" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1020.0967">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1066" y="1012.4414">store my product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1066" y="1027.752">details request</text><polygon fill="#A80036" points="1015,1075.8047,1025,1079.8047,1015,1083.8047,1019,1079.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="771" x2="1021" y1="1079.8047" y2="1079.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="778" y="1075.0625">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="810" y="1075.0625">get my product details requests</text><path d="M1032,1058.4941 L1032,1083.4941 L1276,1083.4941 L1276,1068.4941 L1266,1058.4941 L1032,1058.4941 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1266,1058.4941 L1266,1068.4941 L1276,1068.4941 L1266,1058.4941 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1038" y="1076.0625">GET /my-product-details-requests</text><polygon fill="#A80036" points="542,1125.4258,532,1129.4258,542,1133.4258,538,1129.4258" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536" x2="1560" y1="1129.4258" y2="1129.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="548" y="1117.0283">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="580" y="1109.373">notify product details request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="580" y="1124.6836">(uid, pubKeyB, algorithm)</text><path d="M311,1100.46 L311,1125.46 L522,1125.46 L522,1110.46 L512,1100.46 L311,1100.46 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M512,1100.46 L512,1110.46 L522,1110.46 L512,1100.46 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="317" y="1118.0283">event "ProductDetailsRequest"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="1174.0469" y2="1174.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="1174.0469" y2="1187.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="1187.0469" y2="1187.0469"/><polygon fill="#A80036" points="542,1183.0469,532,1187.0469,542,1191.0469,538,1187.0469" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1161.6494">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="570" y="1153.9941">store product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="570" y="1169.3047">details request</text><polygon fill="#A80036" points="519,1217.3574,529,1221.3574,519,1225.3574,523,1221.3574" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="525" y1="1221.3574" y2="1221.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="305" y="1216.6152">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="337" y="1216.6152">get product details requests</text><path d="M536,1200.0469 L536,1225.0469 L753,1225.0469 L753,1210.0469 L743,1200.0469 L536,1200.0469 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M743,1200.0469 L743,1210.0469 L753,1210.0469 L743,1200.0469 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="542" y="1217.6152">GET /product-details-requests</text><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1605.5" x="0" y="1280.0127"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="1280.0127" y2="1280.0127"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="1283.0127" y2="1283.0127"/><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="189" x="708.25" y="1269.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171" x="714.25" y="1285.9258">Providing Product Details</text><polygon fill="#A80036" points="519,1324.9785,529,1328.9785,519,1332.9785,523,1328.9785" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="525" y1="1328.9785" y2="1328.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="305" y="1324.2363">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="337" y="1324.2363">send product details</text><path d="M536,1307.668 L536,1332.668 L798,1332.668 L798,1317.668 L788,1307.668 L536,1307.668 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M788,1307.668 L788,1317.668 L798,1317.668 L788,1307.668 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="542" y="1325.2363">POST /my-product-details-responses</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="1363.2891" y2="1363.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="1363.2891" y2="1376.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="1376.2891" y2="1376.2891"/><polygon fill="#A80036" points="542,1372.2891,532,1376.2891,542,1380.2891,538,1376.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1358.5469">[26]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="570" y="1358.5469">get product data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="1405.5996" y2="1405.5996"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="1405.5996" y2="1418.5996"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="1418.5996" y2="1418.5996"/><polygon fill="#A80036" points="542,1414.5996,532,1418.5996,542,1422.5996,538,1418.5996" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1400.8574">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="570" y="1400.8574">get documents data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="1463.2207" y2="1463.2207"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="1463.2207" y2="1476.2207"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="1476.2207" y2="1476.2207"/><polygon fill="#A80036" points="542,1472.2207,532,1476.2207,542,1480.2207,538,1476.2207" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1450.8232">[28]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="570" y="1443.168">merge documents</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="570" y="1458.4785">and product data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="1505.5313" y2="1505.5313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="1505.5313" y2="1518.5313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="1518.5313" y2="1518.5313"/><polygon fill="#A80036" points="542,1514.5313,532,1518.5313,542,1522.5313,538,1518.5313" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1500.7891">[29]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="570" y="1500.7891">encrypt(merged data, pubKeyB)</text><polygon fill="#A80036" points="1274,1559.1523,1284,1563.1523,1274,1567.1523,1278,1563.1523" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="1280" y1="1563.1523" y2="1563.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1550.7549">[30]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="570" y="1543.0996">send encrypted merged data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="570" y="1558.4102">(uid, pubKeyB, encData)</text><path d="M1291,1534.1865 L1291,1559.1865 L1526,1559.1865 L1526,1544.1865 L1516,1534.1865 L1291,1534.1865 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1516,1534.1865 L1516,1544.1865 L1526,1544.1865 L1516,1534.1865 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1297" y="1551.7549">POST /product-details-responses</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="1607.7734" y2="1607.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="1607.7734" y2="1620.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="1620.7734" y2="1620.7734"/><polygon fill="#A80036" points="542,1616.7734,532,1620.7734,542,1624.7734,538,1620.7734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="538" y="1595.376">[31]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="570" y="1587.7207">update product details request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="570" y="1603.0313">data with responded</text><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1605.5" x="0" y="1674.4287"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="1674.4287" y2="1674.4287"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1605.5" y1="1677.4287" y2="1677.4287"/><rect fill="#EEEEEE" filter="url(#f1gp9gv5ylob5o)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="174" x="715.75" y="1663.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="721.75" y="1680.3418">Getting Product Details</text><polygon fill="#A80036" points="1274,1729.7051,1284,1733.7051,1274,1737.7051,1278,1733.7051" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1280" y1="1733.7051" y2="1733.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1721.3076">[32]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1066" y="1713.6523">get encrypted merged data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1066" y="1728.9629">(uid, pubKeyB)</text><path d="M1291,1704.7393 L1291,1729.7393 L1518,1729.7393 L1518,1714.7393 L1508,1704.7393 L1291,1704.7393 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1508,1704.7393 L1508,1714.7393 L1518,1714.7393 L1508,1704.7393 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1297" y="1722.3076">GET /product-details-responses</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1763.0156" y2="1763.0156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1763.0156" y2="1776.0156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1776.0156" y2="1776.0156"/><polygon fill="#A80036" points="1038,1772.0156,1028,1776.0156,1038,1780.0156,1034,1776.0156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1758.2734">[33]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1066" y="1758.2734">decrypt merged data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1805.3262" y2="1805.3262"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1805.3262" y2="1818.3262"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1818.3262" y2="1818.3262"/><polygon fill="#A80036" points="1038,1814.3262,1028,1818.3262,1038,1822.3262,1034,1818.3262" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1800.584">[34]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1066" y="1800.584">split documents and product data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1847.6367" y2="1847.6367"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1847.6367" y2="1860.6367"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1860.6367" y2="1860.6367"/><polygon fill="#A80036" points="1038,1856.6367,1028,1860.6367,1038,1864.6367,1034,1860.6367" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1842.8945">[35]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1066" y="1842.8945">hash product data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1889.9473" y2="1889.9473"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1889.9473" y2="1902.9473"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1902.9473" y2="1902.9473"/><polygon fill="#A80036" points="1038,1898.9473,1028,1902.9473,1038,1906.9473,1034,1902.9473" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1885.2051">[36]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1066" y="1885.2051">validate hashes</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1932.2578" y2="1932.2578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1932.2578" y2="1945.2578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1945.2578" y2="1945.2578"/><polygon fill="#A80036" points="1038,1941.2578,1028,1945.2578,1038,1949.2578,1034,1945.2578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1927.5156">[37]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1066" y="1927.5156">store product data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1027" x2="1069" y1="1974.5684" y2="1974.5684"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1069" y1="1974.5684" y2="1987.5684"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1028" x2="1069" y1="1987.5684" y2="1987.5684"/><polygon fill="#A80036" points="1038,1983.5684,1028,1987.5684,1038,1991.5684,1034,1987.5684" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1034" y="1969.8262">[38]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1066" y="1969.8262">store documents data</text><polygon fill="#A80036" points="1015,2017.8789,1025,2021.8789,1015,2025.8789,1019,2021.8789" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="771" x2="1021" y1="2021.8789" y2="2021.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="778" y="2017.1367">[39]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="810" y="2017.1367">get products</text><path d="M1032,2000.5684 L1032,2025.5684 L1144,2025.5684 L1144,2010.5684 L1134,2000.5684 L1032,2000.5684 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1134,2000.5684 L1134,2010.5684 L1144,2010.5684 L1134,2000.5684 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1038" y="2018.1367">GET /products</text><polygon fill="#A80036" points="1015,2057.1895,1025,2061.1895,1015,2065.1895,1019,2061.1895" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="771" x2="1021" y1="2061.1895" y2="2061.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="778" y="2056.4473">[40]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="810" y="2056.4473">get documents</text><path d="M1032,2039.8789 L1032,2064.8789 L1158,2064.8789 L1158,2049.8789 L1148,2039.8789 L1032,2039.8789 " fill="#FBFB77" filter="url(#f1gp9gv5ylob5o)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1148,2039.8789 L1148,2049.8789 L1158,2049.8789 L1148,2039.8789 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1038" y="2057.4473">GET /documents</text><!--MD5=[691122fd2c3f014b7d6cb34273227cdb]
@startuml
autonumber "<b>[00]"

participant "Third Party" as TP3
participant "Company A UI" as COMPAU
participant "Company A" as COMPA
participant "Company B UI" as COMPBU
participant "Company B" as COMPB
participant "Operator" as OP
participant "EventBus" as BC


== Getting Product information from third party ==

-> TP3: add product data
TP3 -> COMPA: send product data 
note right
    POST /my-products
end note
COMPA -> COMPA: store my product data
-> TP3: add documents data
TP3 -> COMPA: send documents data 
note right
    POST /my-documents
end note
COMPA -> COMPA: store my product data
COMPAU -> COMPA: get my products
note right
    GET /my-products
end note
COMPAU -> COMPA: get my documents
note right
    GET /my-documents
end note
|||

== Announcing new Product ==

COMPAU -> COMPA: anounce new product
note right
    POST /my-new-products
end note
COMPA -> OP: anounce new product\n(id, uid, name, type, number, hash)
note right
    POST /new-products
end note
OP -> BC: issue new product data\n(id, uid, name, type, number, hash)
COMPA -> COMPA: store my new product data
COMPAU -> COMPA: get my new products
note right
    GET /my-new-products
end note
BC -> COMPB: notify new product\n(id, uid, name, type, number, hash)
note left
    event "NewProduct"
end note
COMPB -> COMPB: store new product data
COMPBU -> COMPB: get new products
note right
    GET /new-products
end note
|||

== Requesting Product Details ==

COMPBU -> COMPB: request product details
note right
    POST /my-product-details-request
end note
COMPB -> OP: request product details\n(uid, pubKeyB, algorithm)
note right
    POST /product-details-request
end note
OP -> BC: issue product details request\n(uid, pubKeyB, algorithm)
COMPB -> COMPB: store my product\ndetails request
COMPBU -> COMPB: get my product details requests
note right
    GET /my-product-details-requests
end note
BC -> COMPA: notify product details request\n(uid, pubKeyB, algorithm)
note left
    event "ProductDetailsRequest"
end note
COMPA -> COMPA: store product\ndetails request
COMPAU -> COMPA: get product details requests
note right
    GET /product-details-requests
end note
|||

== Providing Product Details ==
COMPAU -> COMPA: send product details
note right
    POST /my-product-details-responses
end note

COMPA -> COMPA: get product data
COMPA -> COMPA: get documents data
COMPA -> COMPA: merge documents\nand product data
COMPA -> COMPA: encrypt(merged data, pubKeyB)
COMPA -> OP: send encrypted merged data\n(uid, pubKeyB, encData)
note right
    POST /product-details-responses
end note
COMPA -> COMPA: update product details request\ndata with responded
|||

== Getting Product Details ==

COMPB -> OP: get encrypted merged data\n(uid, pubKeyB)
note right
    GET /product-details-responses
end note
COMPB -> COMPB: decrypt merged data
COMPB -> COMPB: split documents and product data
COMPB -> COMPB: hash product data
COMPB -> COMPB: validate hashes
COMPB -> COMPB: store product data
COMPB -> COMPB: store documents data
COMPBU -> COMPB: get products
note right
    GET /products
end note
COMPBU -> COMPB: get documents
note right
    GET /documents
end note

|||

@enduml

PlantUML version 1.2022.0(Tue Jan 11 17:16:42 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>